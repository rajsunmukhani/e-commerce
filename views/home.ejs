<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link
    href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css"
    rel="stylesheet"
    />
    <link rel="stylesheet" href="/stylesheets/style.css">
</head>
<body>

    <div class="nav">
        <div class="nav-left">
            <div class="nav-left-part1">
                <h4>sh<div class="circle"></div>p</h4>
            </div>
            <a onclick="scrollToTop()">HOME</a>
            <a onclick="scrollToShop()">SHOP</a>
            <a onclick="scrollToAbout()">ABOUT US</a>
            <a href="#">BLOG</a>
        </div>
        <div class="nav-right">
            <div class="nav-right-part1">
                <% if(user) { %>
                    <i onclick="openPane()" class="ri-user-fill"></i>
                    <h4 onclick="openPane()" style="cursor: pointer;"><%= user.username %></h4>
                <% } else { %>
                    <a href="/login"><h4>Login</h4></a>
                <% } %>
            </div>
                <a href="#">Contact Us</a>
                <a href="/viewCart" style="position: relative; text-decoration: none; color: #111;"><i class="shopping-bag-icon ri-shopping-bag-line">
                    <% if(user) { %>
                        <h6><%= total %></h6>
                    <% } %>
                </i></a>
        </div>
    </div>

    <div class="main">
        <div class="page1">
            <video autoplay muted loop src="/images/44686-439940368_small.mp4"></video>
        </div>
        <div class="page2">
            <div class="pane">
                <div class="pane-p1">
                    <h1>rokerzz</h1>
                    <h1>551 anc</h1>
                </div>
                <div class="pane-p2">
                    <img src="/images/0403f9ff8deb945fc177cff5ab274ce4-removebg-preview.png" alt="">
                </div>
                <div class="pane-p3">
                    <h1>new launch!</h1>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit autem minus dolores doloremque, repellendus, et sit eveniet a assumenda, veniam deserunt fugiat sequi laudantium nulla quam.</p>
                    <a href="#">shop</a>
                </div>
            </div>
            <div class="pg2-pt2">
                <div class="pg2-pt2-left pg2-pt2-elems">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 122.88 74.34" style="enable-background:new 0 0 122.88 74.34" xml:space="preserve"><style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><path class="st0" d="M94.42,18.73l-17.98-0.1V6.53c0-1.8-0.73-3.43-1.92-4.61C73.34,0.73,71.71,0,69.91,0H20.07 c-1.8,0-3.43,0.73-4.61,1.92c-1.18,1.18-1.92,2.81-1.92,4.61c0,0.98,0.79,1.77,1.77,1.77c0.98,0,1.77-0.79,1.77-1.77 c0-0.82,0.34-1.57,0.88-2.11c0.54-0.54,1.29-0.88,2.11-0.88h49.84c0.82,0,1.57,0.34,2.11,0.88c0.54,0.54,0.88,1.29,0.88,2.11v55.41 h-9.98c-0.98,0-1.77,0.79-1.77,1.77c0,0.98,0.79,1.77,1.77,1.77h11.75c0.98,0,1.77-0.79,1.77-1.77v-2.01h10.68 c0.81-18.42,27.26-20.96,29.95,0h5.81l-1.79-19.22l-19.07-7.3L94.42,18.73L94.42,18.73z M2.65,37.54c-1.47,0-2.65-0.8-2.65-1.78 c0-0.98,1.19-1.78,2.65-1.78h23.89c1.47,0,2.65,0.8,2.65,1.78c0,0.98-1.19,1.78-2.65,1.78H2.65L2.65,37.54z M8.12,27.96 c-1.1,0-1.99-0.79-1.99-1.77c0-0.98,0.89-1.77,1.99-1.77h18.43c1.1,0,1.99,0.79,1.99,1.77c0,0.98-0.89,1.77-1.99,1.77H8.12 L8.12,27.96z M10.65,18.38c-1.1,0-1.99-0.79-1.99-1.77c0-0.98,0.89-1.77,1.99-1.77h15.89c1.1,0,1.99,0.79,1.99,1.77 c0,0.98-0.89,1.77-1.99,1.77H10.65L10.65,18.38z M26.46,61.93c0.98,0,1.77,0.79,1.77,1.77c0,0.98-0.79,1.77-1.77,1.77h-6.39 c-1.79,0-3.42-0.78-4.61-2.01c-1.18-1.23-1.92-2.91-1.92-4.69v-13c0-0.98,0.79-1.77,1.77-1.77c0.98,0,1.77,0.79,1.77,1.77v13 c0,0.85,0.35,1.66,0.92,2.25c0.54,0.56,1.27,0.92,2.06,0.92H26.46L26.46,61.93z M44.46,50.37c-6.62,0-11.99,5.37-11.99,11.99 c0,6.62,5.37,11.99,11.99,11.99c6.62,0,11.99-5.37,11.99-11.99C56.44,55.74,51.08,50.37,44.46,50.37L44.46,50.37z M44.46,57.75 c-2.54,0-4.61,2.06-4.61,4.61c0,2.54,2.06,4.61,4.61,4.61c2.54,0,4.61-2.06,4.61-4.61C49.06,59.81,47,57.75,44.46,57.75 L44.46,57.75z M102.06,50.37c-6.62,0-11.99,5.37-11.99,11.99c0,6.62,5.37,11.99,11.99,11.99s11.99-5.37,11.99-11.99 C114.05,55.74,108.68,50.37,102.06,50.37L102.06,50.37z M102.06,57.75c-2.54,0-4.61,2.06-4.61,4.61c0,2.54,2.06,4.61,4.61,4.61 s4.61-2.06,4.61-4.61C106.67,59.81,104.61,57.75,102.06,57.75L102.06,57.75z M89.79,23.81l-8.93-0.1V35.2h14.97L89.79,23.81 L89.79,23.81z"/></g></svg>
                    <h3>On time delivery</h3>
                </div>
                <div class="pg2-pt2-mid1 pg2-pt2-elems">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 122.88 96.2" style="enable-background:new 0 0 122.88 96.2" xml:space="preserve"><style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><path class="st0" d="M0,42.92h24.83V87.1H0V42.92L0,42.92z M85.36,20.49c9.01,0,16.32,7.3,16.32,16.32 c0,9.01-7.3,16.32-16.32,16.32c-9.01,0-16.32-7.3-16.32-16.32C69.04,27.8,76.34,20.49,85.36,20.49L85.36,20.49z M56.72,0 C64.49,0,70.8,6.3,70.8,14.08c0,7.77-6.3,14.08-14.08,14.08c-7.77,0-14.08-6.3-14.08-14.08C42.64,6.31,48.94,0,56.72,0L56.72,0z M58.15,17.07c0-0.46-0.11-0.81-0.34-1.07c-0.23-0.26-0.62-0.5-1.18-0.73c-0.56-0.23-1.08-0.46-1.55-0.69 c-0.47-0.24-0.89-0.51-1.23-0.82c-0.35-0.31-0.61-0.67-0.79-1.07c-0.19-0.41-0.27-0.9-0.27-1.48c0-0.97,0.33-1.77,0.98-2.39 c0.65-0.62,1.52-1,2.61-1.1v-1.3h1.37v1.33c1.05,0.15,1.88,0.58,2.48,1.29c0.6,0.71,0.9,1.61,0.9,2.69H58.2 c0-0.6-0.12-1.06-0.35-1.38c-0.23-0.32-0.56-0.48-0.98-0.48c-0.38,0-0.68,0.12-0.88,0.35c-0.21,0.24-0.31,0.57-0.31,0.98 c0,0.42,0.12,0.76,0.36,1.01c0.25,0.25,0.63,0.49,1.16,0.72c0.53,0.23,1.04,0.46,1.51,0.7c0.47,0.25,0.88,0.52,1.22,0.83 c0.35,0.31,0.62,0.68,0.81,1.09c0.19,0.41,0.3,0.9,0.3,1.49c0,0.98-0.31,1.78-0.94,2.4c-0.63,0.62-1.47,0.98-2.54,1.08v1.22H56.2 v-1.22c-1.25-0.14-2.21-0.56-2.88-1.28c-0.67-0.73-1.01-1.68-1.01-2.87h2.91c0,0.66,0.14,1.15,0.43,1.5 c0.29,0.34,0.7,0.52,1.23,0.52c0.39,0,0.69-0.12,0.92-0.35C58.02,17.8,58.14,17.48,58.15,17.07L58.15,17.07L58.15,17.07z M87.01,40.27c0-0.53-0.13-0.94-0.39-1.24c-0.26-0.3-0.71-0.58-1.37-0.85c-0.65-0.26-1.25-0.54-1.8-0.8 c-0.55-0.27-1.03-0.59-1.43-0.95c-0.4-0.36-0.7-0.77-0.92-1.24c-0.22-0.47-0.31-1.04-0.31-1.71c0-1.13,0.38-2.05,1.14-2.77 c0.75-0.72,1.76-1.15,3.02-1.27v-1.51h1.59v1.55c1.21,0.18,2.17,0.68,2.87,1.5c0.7,0.82,1.05,1.86,1.05,3.12h-3.38 c0-0.7-0.14-1.22-0.4-1.6c-0.26-0.37-0.65-0.56-1.14-0.56c-0.44,0-0.78,0.14-1.02,0.41c-0.24,0.27-0.36,0.66-0.36,1.14 c0,0.49,0.14,0.88,0.42,1.17c0.28,0.29,0.72,0.57,1.34,0.83c0.62,0.26,1.2,0.54,1.75,0.81c0.55,0.28,1.02,0.61,1.42,0.96 c0.4,0.36,0.71,0.78,0.94,1.26c0.23,0.48,0.34,1.05,0.34,1.72c0,1.14-0.36,2.07-1.09,2.78c-0.72,0.71-1.7,1.14-2.95,1.25v1.41 h-1.59v-1.42c-1.45-0.16-2.56-0.65-3.34-1.49c-0.77-0.84-1.16-1.95-1.16-3.33h3.37c0,0.76,0.17,1.33,0.5,1.73 c0.33,0.39,0.81,0.6,1.43,0.6c0.45,0,0.8-0.14,1.07-0.4C86.87,41.11,87,40.74,87.01,40.27L87.01,40.27L87.01,40.27z M85.36,23.7 c7.23,0,13.1,5.86,13.1,13.1c0,7.23-5.86,13.1-13.1,13.1c-7.23,0-13.1-5.86-13.1-13.1C72.26,29.56,78.13,23.7,85.36,23.7 L85.36,23.7z M29.83,83.39V46.47h16.61c7.04,1.26,14.08,5.08,21.12,9.51h12.9c5.84,0.35,8.9,6.27,3.22,10.16 c-4.52,3.32-10.49,3.13-16.61,2.58c-4.22-0.21-4.4,5.46,0,5.48c1.53,0.12,3.19-0.24,4.64-0.24c7.64-0.01,13.92-1.47,17.77-7.5 l1.93-4.51l19.19-9.51c9.6-3.16,16.42,6.88,9.35,13.87c-13.9,10.11-28.15,18.43-42.73,25.15c-10.59,6.44-21.18,6.22-31.76,0 L29.83,83.39L29.83,83.39z"/></g></svg>
                    <h3>Cash on Delivery</h3>
                </div>
                <div class="pg2-pt2-mid2 pg2-pt2-elems">
                    <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 101.94 122.88"><defs><style>.cls-1{fill-rule:evenodd;}</style></defs><title>return-product</title><path class="cls-1" d="M93.34,7.49a3.11,3.11,0,0,1,2,.38,3.06,3.06,0,0,1,1.82,2.78l.2,28.16,0,0,0,0h0l0,0,0,0h0l0,0,0,0h0l0,0,0,0h0l0,0,0,0h-.09l0,0h0l0,0h-.09l0,0h0l0,0h-.05l0,0h0l-.05,0h0l0,0h-.05l0,0H95.8l0,0H91.82l0,0h-.09l-.09,0h0l-.09,0h-.09l0,0h0l0,0-.16-22.52-19,12V70.08a45.77,45.77,0,0,1-4.91,3l-1.21-1.82V28.7L41.4,25.57l-.91,26.52-9.83-6.71-9.84,5.56,2-27.74L6.12,21.07V77.91l39.5,4.39-1.19,6L2.91,83.71A3.06,3.06,0,0,1,0,80.65v-63a3.08,3.08,0,0,1,1.83-2.86L34.79.25A3.07,3.07,0,0,1,36.42,0L93.34,7.49ZM48.7,114.27l8.19-41.61,8.3,12.51C83.07,78,93.11,66.16,94.6,47.94c14.69,25.68,5.77,48.7-12.84,62.18l8.47,12.76L48.7,114.27ZM64.61,9.88l-18,10.21,21.82,2.78L84.85,12.53,64.61,9.88ZM27.68,17.67,45.14,7.32,36.48,6.19,14.25,16l13.43,1.71Z"/></svg>
                    <h3>Easy returns</h3>
                </div>
                <div class="pg2-pt2-right pg2-pt2-elems">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 92.35 122.88" style="enable-background:new 0 0 92.35 122.88" xml:space="preserve"><style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><path class="st0" d="M88.96,113.07L77.41,111l-5.73,10.26c-4.16,5.15-6.8-3.32-7.96-6.27L52.57,93.96 c2.57-0.89,5.67-3.46,8.85-6.35c6.35,0.13,12.27-0.97,16.62-6.51l12.81,24.75l1.11,2.38C92.84,111.32,92.38,113.36,88.96,113.07 L88.96,113.07z M46.18,0.01c2.17-0.09,3.88,0.66,5.61,1.76c2.19,1.39,4.66,4.14,7.71,5.88c4.29,2.45,12.23-0.93,16.29,5.11 c2.37,3.52,2.48,6.28,2.66,9.01c0.19,2.94,0.71,5.65,3.72,9.63c4.99,6.6,6.03,10.99,3.46,15.56c-1.75,3.12-5.44,4.85-6.29,6.83 c-1.82,4.2,0.19,7.37-2.29,12.27c-1.73,3.4-4.39,5.64-7.94,6.78c-2.99,0.96-5.99-0.43-8.39,0.58c-4.21,1.77-7.31,5.88-10.66,6.92 c-1.29,0.4-2.58,0.6-3.87,0.59c-1.29,0.01-2.58-0.19-3.87-0.59c-3.35-1.04-6.45-5.15-10.66-6.92c-2.4-1.01-5.4,0.39-8.39-0.58 c-3.55-1.14-6.21-3.38-7.94-6.78c-2.49-4.9-0.48-8.07-2.29-12.27c-0.85-1.98-4.54-3.71-6.29-6.83C4.16,42.39,5.2,38,10.19,31.41 c3.01-3.98,3.53-6.69,3.72-9.63c0.18-2.73,0.29-5.49,2.66-9.01c4.07-6.04,12.01-2.66,16.29-5.11c3.05-1.74,5.52-4.49,7.71-5.88 C42.29,0.67,44.01-0.09,46.18,0.01L46.18,0.01z M39.13,35.79l5.22,4.97l8.98-9.13c0.89-0.9,1.45-1.62,2.54-0.5l3.56,3.64 c1.17,1.16,1.11,1.83,0.01,2.91L46.38,50.52c-2.32,2.28-1.92,2.42-4.28,0.08l-8.97-8.92c-0.49-0.53-0.44-1.07,0.1-1.6l4.13-4.28 C37.99,35.14,38.49,35.18,39.13,35.79L39.13,35.79z M46.18,16.24c13.38,0,24.23,10.85,24.23,24.23c0,13.38-10.85,24.23-24.23,24.23 c-13.38,0-24.23-10.85-24.23-24.23C21.95,27.08,32.8,16.24,46.18,16.24L46.18,16.24z M3.39,113.07L14.95,111l5.73,10.26 c4.16,5.15,6.8-3.32,7.96-6.27l11.15-21.03c-2.57-0.89-5.67-3.46-8.85-6.35c-6.35,0.13-12.27-0.97-16.62-6.51L1.5,105.85 l-1.11,2.38C-0.49,111.32-0.03,113.36,3.39,113.07L3.39,113.07z"/></g></svg>
                    <h3>Certified Products</h3>
                </div>
            </div>
        </div>
        <div class="page3">
            <div class="pg3-head">
                <h1>Our Products</h1>
                <p>Lorem ipsum dolor sit amet consectetur.</p>
            </div>
            <div class="pg3-items">
                <% products.forEach(function(product){ %>
                    <div class="item">
                        <div style="border-radius: 25px; overflow: hidden;" class="item-pane"><img src="/images/uploads/<%= product.productImage[0] %>" alt=""></div>
                        <h4><%= product.productName %></h4>
                        <h3>â‚¹ <%= product.productPrice %></h3>
                        <p><%= product.productDescription %></p>
                        <% if(user) { %>
                            <a onclick="addToCart('<%= product._id %>','<%= user.username %>')" id="addToCart_<%= product._id %>" href="#">add to cart</a>
                            <div class="a-tags">
                                <a style="background-color: #111;" href="/view/<%= product._id %>">View</a>
                                <% if(user.wishlist.indexOf(product._id) === -1){ %>
                                    <a style="background-color: #111; cursor: pointer;" id="wishlistBtn_<%= product._id %>" onclick="addToWishlist('<%= product._id %>')">Wishlist Now!</a>
                                    <% }else{ %>
                                        <a style="background-color: #D52306; cursor: pointer;" id="wishlistBtn_<%= product._id %>" onclick="addToWishlist('<%= product._id %>')">Added!</a>
                                    <% } %>
                            </div>
                            <% } else { %>
                                <a href="/login">add to cart</a>
                                <div class="a-tags">
                                    <a style="background-color: #111;" href="/view/<%= product._id %>">View</a>
                                    <a style="background-color: #111;" href="/login">Wishlist Now!</a>
                                </div>
                        <% } %>
                    </div>
                <% }) %>
            </div>
        </div>
        <div class="page4">
            <footer>
                <div class="foot-p1">
                    <h4>sh<div class="circle"></div>p</h4>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti ex voluptate, hic explicabo sint, possimus minima perferendis dicta voluptatem!</p>
                </div>
                <div class="foot-p2">
                    <h4>Quick Links</h4>
                    <div class="links">
                        <a href="#">HOME</a>
                        <a href="#">ABOUT</a>
                        <a href="#">SHOP</a>
                        <a href="#">CONTACT</a>
                    </div>
                </div>
                <div class="foot-p3">
                    <h4>Contact</h4>
                    <p>+854 258 654</p>
                    <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Enim odit aspernatur nesciunt.</p>
                </div>
                <div class="foot-p4">
                    <h1>Share feedbacks on:</h1>
                    <a href="#">abc@xyz.com</a>
                </div>
            </footer>
        </div>
        <div class="foot">
            <h5>All &#169 Copyright Reserved</h5>
        </div>
    </div>

    <div class="side-pane">
        <div class="side-pane-top" style="display: flex; align-items: center;
        justify-content: space-between; border-bottom: 1px solid #888;">
                <% if(user) { %>
                    <div style="display: flex; align-items: center;">
                        <i class="ri-user-fill"></i>
                        <h4 style="cursor: pointer;"><%= user.username %></h4>
                    </div>
                <% } else { %>
                    <a href="/login"><h4>Login</h4></a>
                <% } %>

                <i onclick="closePane()" style="color: #111; cursor: pointer;" class="ri-close-line"></i>
        </div>
        <div class="side-pane-mid"></div>
        <div class="side-pane-bottom">
            <a href="/logout">Logout</a>
        </div>
    </div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.8/axios.min.js" integrity="sha512-PJa3oQSLWRB7wHZ7GQ/g+qyv6r4mbuhmiDb8BjSFZ8NZ2a42oTtAq5n0ucWAwcQDlikAtkub+tPVCw4np27WCg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>

        async function addToCart(productId,loggedInUser) {
            event.preventDefault();
            const response = await axios.post('/addItemsInCart',{productId,loggedInUser})

            var totalCartItems = totalCountCartItems(Object.values(response.data.cartItems));
            
            document.querySelector(".shopping-bag-icon h6").innerText = totalCartItems;
            document.getElementById(`addToCart_${productId}`).innerText = "Add Quantity.."
        }


        function totalCountCartItems(arr) {
            let sum = 0;
            for (let i = 0; i < arr.length; i++) {
                sum += arr[i];
            }
            return sum;
        }


        function addToWishlist(productId){
            const response =  axios.get(`/addinwishlist/${productId}`);
            if(response){
                document.querySelector(`#wishlistBtn_${productId}`).textContent = 'Added!'
                document.querySelector(`#wishlistBtn_${productId}`).style.backgroundColor = '#D52306'
            }
        }


        function openPane(){
            // alert('hey')
            document.querySelector('.side-pane').style.right = 0
        }
        
        function closePane(){
            document.querySelector('.side-pane').style.right = '-25%'
        }

        window.addEventListener('keydown',function(dets){
            if(dets.keyCode === 27){
                closePane();
            }
        })
    
        function scrollToShop() {
            // alert('hey')

            const shoppingItems = document.querySelector('.page3');
            const offsetTop = shoppingItems.offsetTop;

            document.querySelector('body').scrollTo({
                top: offsetTop,
                behavior: 'smooth'
            });
        }
        
        function scrollToAbout() {
            const aboutSection = document.querySelector('.page4');
            const offsetTop = aboutSection.offsetTop;


            document.querySelector('body').scrollTo({
                top: offsetTop,
                behavior: 'smooth' 
            });
        }
        
        function scrollToTop() {
            document.querySelector('body').scrollTo({
                top: 0,
                behavior: 'smooth' 
            });
        }

    </script>
</body>
</html>